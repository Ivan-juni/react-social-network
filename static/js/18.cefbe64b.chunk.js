"use strict";(self.webpackChunkreact_app_2_0=self.webpackChunkreact_app_2_0||[]).push([[18],{8018:function(e,r,s){s.r(r),s.d(r,{default:function(){return v}});var n=s(885),a=s(2791),i=s(9434),t=s(540),l={wrapper:"Users_wrapper__OlyPm",avatar__thumb:"Users_avatar__thumb__peHwj",user__wrapper:"Users_user__wrapper__g8A1M",users:"Users_users__oN5Ju",user:"Users_user__ureKU",right_block:"Users_right_block__iyM+3",left_block:"Users_left_block__GPLkt",follow:"Users_follow__Iacut",pageCount:"Users_pageCount__fc-Od",arrows:"Users_arrows__9divR"},c="Paginator_pages__xZaO7",u=s(2849),o=s(184),d=function(e){var r=e.usersPage,s=e.currentPageChange;return(0,o.jsx)("div",{className:c,children:(0,o.jsx)(u.Z,{count:Math.ceil(r.usersCount/r.pageSize),page:r.currentPage,onChange:function(e,r){s(r)},color:"primary"})})},_=s(7764),m=s(3504),f=function(e){var r=e.user,s=e.dispatch,n=e.usersPage;return(0,o.jsx)("div",{className:l.user,children:(0,o.jsxs)("div",{className:l.user__wrapper,children:[(0,o.jsxs)("div",{className:l.left_block,children:[(0,o.jsx)("div",{className:l.avatar,children:(0,o.jsx)(m.OL,{to:"/profile/"+r.id,children:(0,o.jsx)("img",{className:l.avatar__thumb,src:null!=r.photos.small?r.photos.small:_,alt:"avatar"})})}),(0,o.jsx)("div",{className:l.follow,children:r.followed?(0,o.jsx)("button",{disabled:n.isFollowingInProgress.includes(r.id),onClick:function(){s((0,t.UD)(r.id))},children:"Unfollow"}):(0,o.jsx)("button",{disabled:n.isFollowingInProgress.includes(r.id),onClick:function(){s((0,t.AC)(r.id))},children:"Follow"})})]}),(0,o.jsx)("div",{className:l.right_block,children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:r.name}),(0,o.jsx)("li",{className:l.location,children:"${user.address.city}, ${user.address.country}"}),(0,o.jsx)("li",{children:r.status})]})})]})})},h=s(5705),g={form__wrapper:"UsersForm_form__wrapper__L4elc",fields:"UsersForm_fields__97jww",submitBtn:"UsersForm_submitBtn__APvYk",btn:"UsersForm_btn__PKGan"},p=a.memo((function(e){var r=e.onFilterChanged,s=(0,i.v9)((function(e){return e.usersPage.filter})),n={term:s.term,friend:String(s.friend)};return(0,o.jsx)(h.J9,{enableReinitialize:!0,initialValues:n,onSubmit:function(e,s){var n=s.setSubmitting,a=(s.setStatus,{term:e.term,friend:"null"===e.friend?null:"true"===e.friend});r(a),n(!1)},children:function(e){return(0,o.jsxs)(h.l0,{children:[(0,o.jsxs)("div",{className:g.form__wrapper,children:[(0,o.jsxs)("div",{className:g.fields,children:[(0,o.jsx)(h.gN,{type:"text",name:"term",placeholder:"Type name here...",className:g.term}),(0,o.jsxs)(h.gN,{as:"select",name:"friend",className:g.select,children:[(0,o.jsx)("option",{value:"null",children:"All"}),(0,o.jsx)("option",{value:"true",children:"Only followed"}),(0,o.jsx)("option",{value:"false",children:"Only unfollowed"})]})]}),(0,o.jsx)("div",{className:g.submitBtn,children:(0,o.jsx)("button",{type:"submit",className:g.btn,disabled:!e.isValid||e.isSubmitting,children:"Find"})})]}),(0,o.jsx)(h.Bc,{name:"term",className:g.error}),(0,o.jsx)("div",{className:g.error,children:e.status})]})}})})),j=function(e){var r=e.dispatch,s=e.usersPage,n=e.onFilterChanged,a=e.currentPageChange;return(0,o.jsxs)("div",{className:l.wrapper,children:[(0,o.jsx)("div",{className:l.searchForm,children:(0,o.jsx)(p,{dispatch:r,onFilterChanged:n})}),(0,o.jsx)("div",{className:l.paginator,children:(0,o.jsx)(d,{usersPage:s,dispatch:r,currentPageChange:a})}),(0,o.jsx)("div",{className:l.users,children:s.users.map((function(e){return(0,o.jsx)(f,{user:e,usersPage:s,dispatch:r},e.id)}))})]})},x=s(1962),v=function(){var e=(0,i.I0)(),r=(0,m.lr)(),s=(0,n.Z)(r,2),l=s[0],c=s[1],u=(0,i.v9)((function(e){return e.usersPage}));return(0,a.useEffect)((function(){var r=l.get("term")||"",s="null"===l.get("friend")?null:"true"===l.get("friend"),n=Number(l.get("page")?l.get("page"):1),a={term:r,friend:s};e((0,t.Uk)(n,u.pageSize,a))}),[]),(0,a.useEffect)((function(){c({term:u.filter.term,friend:"".concat(u.filter.friend),page:"".concat(u.currentPage)})}),[u.filter,u.currentPage]),(0,o.jsx)(o.Fragment,{children:u.isFetching?(0,o.jsx)(x.Z,{}):(0,o.jsx)(j,{dispatch:e,usersPage:u,onFilterChanged:function(r){e((0,t.Uk)(1,u.pageSize,r))},currentPageChange:function(r){e((0,t.Uk)(r,u.pageSize,u.filter))}})})}}}]);
//# sourceMappingURL=18.cefbe64b.chunk.js.map